"use strict";$(function(){function d(s){var o=this;function n(s){var n={},i=o.options.period;return n.netInPeriod=e(o.result.net*i),n.grossInPeriod=e(o.result.gross*i),n.ops=s<=o.options.opsMax?e(t(s,o.options.ops)):e(t(o.options.opsMax,o.options.ops2)),n.opsInPeriod=e(n.ops*i),n.oms=s<=o.options.omsMax?e(t(s,o.options.oms)):e(t(o.options.omsMax,o.options.oms2)),n.omsInPeriod=e(n.oms*i),n.fss=e(t(s,o.options.fss)),n.fssInPeriod=e(n.fss*i),n.insurance=e(t(s,o.options.insurance)),n.insuranceInPeriod=e(n.insurance*i),n.ndfl=e(t(s,o.options.ndfl)),n.ndflInPeriod=e(n.ndfl*i),n.fot=e(n.ops+n.oms+n.fss+n.insurance),n.fotInPeriod=e(n.fot*i),n.nalogAll=e(n.ops+n.oms+n.fss+n.insurance+n.ndfl),n.nalogAllInPeriod=e(n.nalogAll*i),n.fullCost=e(n.nalogAll+o.result.net),n.fullCostInPeriod=e(n.fullCost*i),n}function i(s){return s/100}function t(s,n){return i(s)*n}function e(s){return+s.toFixed(2)}return s=s||{},this.options={},this.options.ndfl=s.ndfl||13,this.options.ops=s.ops||22,this.options.opsMax=s.opsMax||115e4,this.options.ops2=s.ops2||10,this.options.oms=s.oms||5.1,this.options.omsMax=s.omsMax||865e3,this.options.oms2=s.oms2||5.1,this.options.fss=s.fss||2.9,this.options.insurance=s.insurance||.2,this.options.period=s.period||12,this.result={},this.setGross=function(s){return o.result.gross=e(s),o.result.net=e(s-t(s,o.options.ndfl)),Object.assign(o.result,n(o.result.gross)),o.result},this.setNet=function(s){return o.result.net=e(s),o.result.gross=e(s/i(100-o.options.ndfl)),Object.assign(o.result,n(o.result.gross)),o.result},o}$(function(){var o=new d,s=$("#app"),n=$('<din>\n  <div class="search">\n    <input type="number" min="0" max="3000000" autofocus class="search__input" />\n    <div class="search__placeholder"><span>Cумма которая получается на руки (нетто)</span></div>\n  </div>\n  <div class="result"></div>\n</div>'),i=n.find(".search__input"),t=n.find(".result");if(location.hash){var e=+location.hash.replace("#","");i.val(e),a(e)}else a(0);function a(s){var n=o.setNet(s),i=$('\n<div class="result__line"><div>Оклад (гросс)</div><div><span class="cost">'.concat(r(n.gross),'</span>&nbsp;руб.</div></div>\n<div class="result__line"><div>Стоимость сотрудника для работодателя в месяц</div><div><span class="cost">').concat(r(n.fullCost),'</span>&nbsp;руб.</div></div>\n<hr>\n<div class="result__line"><div>Столько на вас зарабатывает государство в месяц</div><div><span class="cost">').concat(r(n.nalogAll),'</span>&nbsp;руб.</div></div>\n<hr>\n<div class="result__line"><div>Налог на доходы физических лиц (НДФЛ)</div><div><span class="cost">').concat(r(n.ndfl),'</span>&nbsp;руб.</div></div>\n<div class="result__line"><div>В фонд Обязательного пенсионного страхования (ОПС)</div><div><span class="cost">').concat(r(n.ops),'</span>&nbsp;руб.</div></div>\n<div class="result__line"><div>Обязательное медицинское страхование жизни (ОМС)</div><div><span class="cost">').concat(r(n.oms),'</span>&nbsp;руб.</div></div>\n<div class="result__line"><div>В фонд социального страхования (ФСС)</div><div><span class="cost">').concat(r(n.fss),'</span>&nbsp;руб.</div></div>\n<div class="result__line"><div>Взносы по «травматизму»</div><div><span class="cost">').concat(r(n.insurance),"</span>&nbsp;руб.</div></div>\n"));return t.html("").append(i),n}function l(s){(e=s.val())?s.attr("value",e):s.removeAttr("value")}function r(s){return(s=/\.\d/.test(s)?s+"":s+".00").replace(/\d(?=(\d{3})+\.)/g,"$& ")}l(i),i.change(function(){$(this).keyup()}),i.keyup(function(){var s=+$(this).val();l($(this));var n=a(s);$(this).val()?$(this).addClass("search__input_not-empty"):$(this).removeClass("search__input_not-empty"),location.hash="#"+n.net}),s.append(n)}),console.log("version: 0.1.0")});
//# sourceMappingURL=main.js.map
