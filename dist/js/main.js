"use strict";$(function(){function a(s){var i=this;function n(s){var n={},t=i.options.period;return n.netInPeriod=l(i.result.net*t),n.grossInPeriod=l(i.result.gross*t),n.ops=s<=i.options.opsMax?l(e(s,i.options.ops)):l(e(i.options.opsMax,i.options.ops2)),n.opsInPeriod=l(n.ops*t),n.oms=s<=i.options.omsMax?l(e(s,i.options.oms)):l(e(i.options.omsMax,i.options.oms2)),n.omsInPeriod=l(n.oms*t),n.fss=l(e(s,i.options.fss)),n.fssInPeriod=l(n.fss*t),n.insurance=l(e(s,i.options.insurance)),n.insuranceInPeriod=l(n.insurance*t),n.ndfl=l(e(s,i.options.ndfl)),n.ndflInPeriod=l(n.ndfl*t),n.fot=l(n.ops+n.oms+n.fss+n.insurance),n.fotInPeriod=l(n.fot*t),n.nalogAll=l(n.ops+n.oms+n.fss+n.insurance+n.ndfl),n.nalogAllInPeriod=l(n.nalogAll*t),n.fullCost=l(n.nalogAll+i.result.net),n.fullCostInPeriod=l(n.fullCost*t),n}function t(s){return s/100}function e(s,n){return t(s)*n}function l(s){return+s.toFixed(2)}return s=s||{},this.options={},this.options.ndfl=s.ndfl||13,this.options.ops=s.ops||22,this.options.opsMax=s.opsMax||115e4,this.options.ops2=s.ops2||10,this.options.oms=s.oms||5.1,this.options.omsMax=s.omsMax||865e3,this.options.oms2=s.oms2||5.1,this.options.fss=s.fss||2.9,this.options.insurance=s.insurance||.2,this.options.period=s.period||12,this.result={},this.setGross=function(s){return i.result.gross=l(s),i.result.net=l(s-e(s,i.options.ndfl)),Object.assign(i.result,n(i.result.gross)),i.result},this.setNet=function(s){return i.result.net=l(s),i.result.gross=l(s/t(100-i.options.ndfl)),Object.assign(i.result,n(i.result.gross)),i.result},i}$(function(){var t=new a,s=$("#app").html(""),n=$('\n<din>\n  <form>\n  <div class="search">\n    <input name="search" type="number" min="0" max="3000000" autofocus="" class="search__input search__input_not-empty" value="0">\n    <label for="search" class="search__placeholder">Cумма которая получается на руки (нетто)</label> \n  </div>\n  </form>\n  <div class="result">\n    <div class="result__line" id="gross">\n      <div class="result__head">\n        <div class="result__title">Оклад (гросс)</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Оклад до вычета НДФЛ. Именно гросс оклад фиксируются в трудовом договоре с сотрудником</p>\n      </div>\n    </div>\n\n    <div class="result__line" id="fullCost">\n      <div class="result__head">\n        <div class="result__title">Стоимость сотрудника для работодателя</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Зарплата сотруднику на руки плюс сумма всех выплат за сотрудника государству. Расходы на организацию рабочего места для сотрудника не учитываются</p>\n      </div>\n    </div>\n\n    <hr>\n\n    <div class="result__line" id="nalogAll">\n      <div class="result__head">\n        <div class="result__title">Все выплаты государству</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Сумма всех выплат государству: НДФЛ, ОПС, ОМС, ФСС и взносов по «травматизму»</p>\n      </div>\n    </div>\n\n    <hr>\n\n    <div class="result__line" id="ndfl">\n      <div class="result__head">\n        <div class="result__title">Налог на доходы физических лиц (НДФЛ)</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Работодатель выплачивает за сотрудника налог государству как налоговый агент. Налог на доход для физического лица включен в оклад сотрудника и составляет 13% от оклада</p>\n      </div>\n    </div>\n\n    <div class="result__line" id="ops">\n      <div class="result__head">\n        <div class="result__title">В фонд Обязательного пенсионного страхования (ОПС)</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Отчисления идет за счет работодателя. Высчитывается из оклада сотрудника и составляет 22% от оклада</p>\n      </div>\n    </div>\n\n    <div class="result__line" id="oms">\n      <div class="result__head">\n        <div class="result__title">Обязательное медицинское страхование жизни (ОМС)</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Отчисления идет за счет работодателя. Высчитывается из оклада сотрудника и составляет 5,1% от оклада</p>\n      </div>\n    </div>\n\n    <div class="result__line" id="fss">\n      <div class="result__head">\n        <div class="result__title">В фонд социального страхования (ФСС)</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Отчисления идет за счет работодателя. Высчитывается из оклада сотрудника и составляет 2,9% от оклада</p>\n      </div>\n    </div>\n\n    <div class="result__line" id="insurance">\n      <div class="result__head">\n        <div class="result__title">Взносы по «травматизму»</div>\n        <div class="result__per-month">\n          <span class="cost">0</span> ₽/мес\n        </div>\n      </div>\n      <div class="result__body">\n        <p>Отчисления идет за счет работодателя. Высчитывается из оклада сотрудника. Размер отчислений зависит от присвоенного класса профессионального риска. Минимально 0,2% от оклада</p>\n      </div>\n    </div>\n  </div>\n</div>');s.append(n);var i=n.find(".search__input"),e=n.find(".result");if(location.hash){var l=+location.hash.replace("#","");i.val(l),o(l)}else o(0);function o(s){var n=t.setNet(s);return $("#gross").find(".result__per-month .cost").text(d(n.gross)),$("#fullCost").find(".result__per-month .cost").text(d(n.fullCost)),$("#nalogAll").find(".result__per-month .cost").text(d(n.nalogAll)),$("#ndfl").find(".result__per-month .cost").text(d(n.ndfl)),$("#ops").find(".result__per-month .cost").text(d(n.ops)),$("#oms").find(".result__per-month .cost").text(d(n.oms)),$("#fss").find(".result__per-month .cost").text(d(n.fss)),$("#insurance").find(".result__per-month .cost").text(d(n.insurance)),n}function r(s){(l=s.val())?s.attr("value",l):s.removeAttr("value")}function d(s){return(s=/\.\d/.test(s)?s+"":s+".00").replace(/\d(?=(\d{3})+\.)/g,"$& ")}r(i),i.change(function(){$(this).keyup()}),e.find(".result__title").on("click",function(){$(this).parent().parent().find(".result__body").toggleClass("result__body_visible")}),i.keyup(function(s){var n=+$(this).val();r($(this));var t=o(n);$(this).val()?$(this).addClass("search__input_not-empty"):$(this).removeClass("search__input_not-empty"),location.hash="#"+t.net})}),console.log("version: 0.1.0")});
//# sourceMappingURL=main.js.map
